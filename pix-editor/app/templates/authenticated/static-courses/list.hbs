<header class="page-header">
    <h1 class="page-title">Tests Statiques</h1>
    <div class="page-actions">
      <PixTooltip
        @id='create-static-course-tooltip'
        @position="bottom-left"
        @hide={{this.model.mayCreateStaticCourse}}
      >
        <:triggerElement>
          <PixButtonLink
            @backgroundColor="blue"
            @route="authenticated.static-courses.new"
            @iconBefore="plus"
            @isDisabled={{not this.model.mayCreateStaticCourse}}
            aria-describedby='create-static-course-tooltip'
            class="pix-button-link-with-icon white-font"
          >
            <FaIcon
              @icon="plus"
              @prefix="fas"></FaIcon>Créer un nouveau test
          </PixButtonLink>
        </:triggerElement>

        <:tooltip>
          Vous n'avez pas les droits suffisants pour créer un test statique.
        </:tooltip>
      </PixTooltip>
    </div>
</header>
<main class="page-body">
  <section class="page-section">
    <div class="panel-table-v2">
      <table class="content-text content-text--small">
        <colgroup class="table__column">
          <col class="table__column--wide" />
          <col class="table__column--small" />
          <col class="table__column--small" />
          <col class="table__column--small" />
        </colgroup>
        <thead>
        <tr>
          <th>Nom</th>
          <th>Epreuves</th>
          <th>Créé le</th>
          <th>Prévisualisation</th>
        </tr>
        </thead>
        <tbody>
        {{#each this.model.staticCourseSummaries as |staticCourseSummary|}}
          <tr class="tr--clickable">
            <td {{on "click" (fn this.goToStaticCourseDetails staticCourseSummary.id)}}>
              {{staticCourseSummary.name}}
            </td>
            <td {{on "click" (fn this.goToStaticCourseDetails staticCourseSummary.id)}}>{{staticCourseSummary.challengeCount}}</td>
            <td {{on "click" (fn this.goToStaticCourseDetails staticCourseSummary.id)}}>{{dayjs-format staticCourseSummary.createdAt "DD/MM/YYYY" allow-empty=true}}</td>
            <td class="actions">
              <PixIconButton @triggerAction={{fn this.copyStaticCoursePreviewUrl staticCourseSummary}} @icon="copy" @iconPrefix="far" @ariaLabel="copier le lien vers la preview" class="icon">COPIERCOLLER</PixIconButton>
              <a
                href="{{staticCourseSummary.previewURL}}"
                target="_blank"
                rel="noopener noreferrer"
              ><FaIcon @icon="eye" @prefix="fas"/>
              </a>
            </td>
          </tr>
        {{/each}}
        </tbody>
      </table>
    </div>
    <div class="static-course-list__pagination">
      <PixPagination
        @pagination={{this.model.staticCourseSummaries.meta}}
      />
    </div>
  </section>
</main>
