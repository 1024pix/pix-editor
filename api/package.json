{
  "name": "learning-content-api",
  "version": "3.163.0",
  "description": "API permettant d'interagir avec le référentiel de contenu Pix",
  "type": "module",
  "main": "index.js",
  "engines": {
    "node": "^20.17.0"
  },
  "directories": {
    "doc": "docs",
    "test": "tests"
  },
  "scripts": {
    "clean": "rm -rf node_modules",
    "coverage": "NODE_ENV=test nyc --silent _mocha --recursive --exit --reporter dot tests && nyc report --reporter=lcov --report-dir=./coverage",
    "db:new-migration": "npx knex --knexfile db/knexfile.js migrate:make $migrationname",
    "db:create": "node scripts/database/create-database",
    "db:delete": "node scripts/database/drop-database",
    "db:empty": "node scripts/database/empty-database",
    "db:migrate": "knex --knexfile db/knexfile.js migrate:latest",
    "db:prepare": "npm run db:delete && npm run db:create && npm run db:migrate",
    "db:seed": "knex --knexfile db/knexfile.js seed:run",
    "db:reset": "npm run db:prepare && npm run db:seed",
    "db:rollback:latest": "knex --knexfile db/knexfile.js migrate:down",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "preinstall": "npx check-engine && git config core.hooksPath .githooks || true",
    "start": "node index.js",
    "start:watch": "nodemon --ext js,cjs,json,jsx --signal SIGTERM index.js",
    "test": "NODE_ENV=test npm run db:prepare && npm run test:api",
    "test:api": "NODE_ENV=test vitest run",
    "test:api:unit": "NODE_ENV=test vitest run tests/unit/",
    "test:api:integration": "NODE_ENV=test vitest run tests/integration/",
    "test:api:acceptance": "NODE_ENV=test vitest run tests/acceptance/",
    "test:api:scripts": "NODE_ENV=test vitest run tests/scripts/",
    "test:api:debug": "NODE_ENV=test vitest run --inspect-brk=9229",
    "test:api:watch": "NODE_ENV=test vitest",
    "test:lint": "npm test && npm run lint",
    "postdeploy": "npm run db:migrate",
    "scalingo-post-ra-creation": "npm run postdeploy && npm run db:seed"
  },
  "author": "GIP Pix",
  "license": "AGPL-3.0-or-later",
  "dependencies": {
    "@adminjs/hapi": "^7.0.1",
    "@adminjs/sequelize": "^4.0.0",
    "@hapi/boom": "^10.0.0",
    "@hapi/cookie": "^12.0.0",
    "@hapi/hapi": "^21.3.0",
    "@hapi/inert": "^7.0.0",
    "@hapi/vision": "^7.0.0",
    "@sentry/node": "^8.0.0",
    "adminjs": "^7.2.1",
    "airtable": "^0.12.2",
    "axios": "^1.0.0",
    "axios-cookiejar-support": "^5.0.0",
    "base-x": "^5.0.0",
    "blipp": "4.0.2",
    "bull": "^4.10.4",
    "countries-list": "^3.0.6",
    "dotenv": "^16.0.0",
    "fast-csv": "5.0.1",
    "file-saver": "2.0.5",
    "googleapis": "^136.0.0",
    "hapi-pino": "^8.4.0",
    "hapi-sentry": "^4.0.0-0",
    "joi": "^17.8.3",
    "js-crypto-random": "^1.0.4",
    "jsonapi-serializer": "3.6.9",
    "knex": "^3.0.0",
    "lodash": "^4.17.21",
    "node-cache": "^5.1.2",
    "oppsy": "https://github.com/1024pix/oppsy#main",
    "p-map": "^7.0.0",
    "pg": "^8.9.0",
    "pg-query-stream": "^4.5.3",
    "phrase-js": "^1.20.0",
    "pino": "^8.0.0",
    "pino-pretty": "^11.0.0",
    "progress": "2.0.3",
    "qs": "^6.10.1",
    "sequelize": "^6.29.0",
    "showdown": "^2.0.0",
    "tough-cookie": "^4.0.0",
    "url-regex-safe": "^4.0.0"
  },
  "devDependencies": {
    "@babel/eslint-parser": "^7.25.1",
    "@babel/plugin-syntax-import-assertions": "^7.22.5",
    "eslint": "^9.9.0",
    "eslint-plugin-mocha": "^10.5.0",
    "flush-write-stream": "^2.0.0",
    "form-data": "4.0.0",
    "globals": "^15.9.0",
    "nock": "^14.0.0-beta.5",
    "nodemon": "^3.0.0",
    "nyc": "15.1.0",
    "parse-multipart-data": "^1.5.0",
    "split2": "^4.1.0",
    "vitest": "^1.0.0",
    "yargs": "^17.7.2"
  }
}
